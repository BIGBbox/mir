[@自动吃]
{
#IF
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 = 99999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 99999
#ACT
break

#IF
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 > 6999
#ACT
goto @灵兽精石
break

#IF
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 > 1999
#ACT
goto @灵兽精石
break

#IF
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 < 2000
#ACT
goto @灵兽精石
break


[@判断开关元宝]
#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 199
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 200
#act
mov S$晋级开关 开
mov N$晋级需要元宝 100000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 299
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 300
#act
mov S$晋级开关 开
mov N$晋级需要元宝 200000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 399
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 400
#act
mov S$晋级开关 开
mov N$晋级需要元宝 300000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 499
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 500
#act
mov S$晋级开关 开
mov N$晋级需要元宝 400000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 599
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 600
#act
mov S$晋级开关 开
mov N$晋级需要元宝 500000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 699
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 700
#act
mov S$晋级开关 开
mov N$晋级需要元宝 600000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 799
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 800
#act
mov S$晋级开关 开
mov N$晋级需要元宝 700000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 899
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 900
#act
mov S$晋级开关 开
mov N$晋级需要元宝 800000


#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 1000
#act
mov S$晋级开关 开
mov N$晋级需要元宝 900000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 1999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 2000
#act
mov S$晋级开关 开
mov N$晋级需要元宝 1000000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 2999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 3000
#act
mov S$晋级开关 开
mov N$晋级需要元宝 2000000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 3999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 4000
#act
mov S$晋级开关 开
mov N$晋级需要元宝 3000000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 4999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 5000
#act
mov S$晋级开关 开
mov N$晋级需要元宝 4000000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 5999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 6000
#act
mov S$晋级开关 开
mov N$晋级需要元宝 5000000

#if
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 > 6999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 7000
#act
mov S$晋级开关 开
mov N$晋级需要元宝 6000000

;-------------------------------------------------------

[@灵兽精石]
#IF
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 0 = 99999
CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = 99999
#ACT
close
messagebox 恭喜，你的身上上古异兽，已满！！！
set [19] 0
break


#if
not CHECKITEM 灵兽精石 1

#act
set [19] 0
SENDMSG 7  抱歉，你的背包没有灵兽精石！
MOV S$晋级开关
;messagebox 抱歉，你的背包没有灵兽精石！
break

#if
equal S$晋级开关 开
not CHECKITEMW 上古异兽1级
not CHECKITEMW 上古异兽2级
not CHECKITEMW 上古异兽3级
not CHECKITEMW 上古异兽4级
not CHECKITEMW 上古异兽5级
not CHECKITEMW 上古异兽6级
not CHECKITEMW 上古异兽7级
not CHECKITEMW 上古异兽8级
not CHECKITEMW 上古异兽9级
not CHECKITEMW 上古异兽10级
not CHECKITEMW 上古异兽11级
not CHECKITEMW 上古异兽12级
not CHECKITEMW 上古异兽13级
not CHECKITEMW 上古异兽14级
not CHECKITEMW 上古异兽15级
#act
messagebox 抱歉，你的身上没有穿戴：上古异兽！
MOV S$晋级开关
set [19] 0

break

#if
equal S$晋级开关 开
#act
goto @判断升级
break

#if
CHECKITEM 灵兽精石 1
#act
take 灵兽精石 1
movr p1 2 4
CHANGECUSTOMITEMPROGRESSBARVALUE 16 0 0 + <$str(p1)>
goto @判断开关元宝
GOTO @判断升级
break

[@判断升级]
#if
not large <$GAMEGOLD> <$STR(N$晋级需要元宝)>
#act
set [19] 0
MESSAGEBOX 进阶失败：你的上古异兽需要<$STR(N$晋级需要元宝)>元宝才能进阶！
BREAK

#if
#act
;获取当前盾牌
GetUserItemName 16 12
;sendmsg 5 名字:<$STR(S12)>
ReadConfigFileItem ..\QuestDiary\上古异兽数1据\上古异兽升级数据.txt <$STR(S12)> 最大经验值 S$最大经验值数值
ReadConfigFileItem ..\QuestDiary\上古异兽数据\上古异兽升级数据.txt <$STR(S12)> 下级经验值 S$下级经验值数值
ReadConfigFileItem ..\QuestDiary\上古异兽数据\上古异兽升级数据.txt <$STR(S12)> 元宝 S$元宝数值
ReadConfigFileItem ..\QuestDiary\上古异兽数据\上古异兽升级数据.txt <$STR(S12)> 下一级异兽 S$下一级异兽名


#if
CHECKCUSTOMITEMPROGRESSBARPERCENT 16 0 = 100
;CHECKCUSTOMITEMPROGRESSBARVALUE 16 0 1 = <$STR(S$最大经验值数值)>
#act

TakeOffItem 16
take <$STR(S12)> 1

give <$STR(S$下一级异兽名)> 1
TakeOnItem <$STR(S$下一级异兽名)>

CHANGECUSTOMITEMPROGRESSBAR 16 0 0 1
CHANGECUSTOMITEMPROGRESSBAR 16 0 1 经验值:
CHANGECUSTOMITEMPROGRESSBAR 16 0 2 70
CHANGECUSTOMITEMPROGRESSBAR 16 0 3 1
CHANGECUSTOMITEMPROGRESSBAR 16 0 4 2
money 元宝 - <$STR(S$元宝数值)>
CHANGECUSTOMITEMPROGRESSBARVALUE 16 0 2 + 1
CHANGECUSTOMITEMPROGRESSBARVALUE 16 0 0 = 0
CHANGECUSTOMITEMPROGRESSBARVALUE 16 0 1 = <$STR(S$下级经验值数值)>

goto @main
messagebox  上古异兽进阶成功
MOV S$晋级开关
break

}
